
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


model User {
  id                  String            @id @default(cuid())
  email               String            @unique
  otp                 String?
  role                UserRole          @default(user)
  hashedPassword      String?
  isPasswordSet       DateTime?
  blocked             Boolean           @default(false)
  verified            DateTime?
  retryCount          Int               @default(0)
  lastLogin           DateTime?
  lastLoginAttempt    DateTime?
  lastLoginIp         String?
  lastLoginDevice     String?
  /////////////////////////////
  createdAt           DateTime          @default(now())
  updatedAt           DateTime          @updatedAt
  /////////////////////////////
 

  @@index([id, email])
}

enum UserRole {
  owner // entity owner
  user // member of entity
  admin // admin FinPilot
}